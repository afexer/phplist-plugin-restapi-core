services:
# Classes without dependencies
  Response:
    class:     Rapi\Response
  Messages:
    class:     Rapi\Messages

# Classes with dependencies
  Actions:
    class:     Rapi\Call
    arguments: [@Container]
  Actions:
    class:     Rapi\Actions
    arguments: [@Response]
  Call:
    class:     Rapi\Call
    arguments: [@actions, @lists, @messages, @response, @subscribers, @templates]
  Common:
    class:     Rapi\Common
    arguments: [@PdoEx]
  Lists:
    class:     Rapi\Lists
    arguments: [@Common, @PdoEx, @Response]
  PdoEx:
    class:     Rapi\PdoEx
    arguments: [%pdoEx.hostname%, %pdoEx.username%, %pdoEx.pass%, %pdoEx.dbname%]
  Subscribers:
    class:     Rapi\Subscribers
    arguments: [@Common, @PdoEx, @Response]
  Templates:
    class:     Rapi\Templates
    arguments: [@Common]

# Define parameters, to be set in app logic
# NOTE: the classname.parameter syntax is just a Symfony convention; parameter
# names are handles as single simple strings
parameters:
  pdoEx.hostname: hostname
  pdoEx.username: username
  pdoEx.pass: pass
  pdoEx.dbname: dbname
